/*! For license information please see main.97ace0e0.chunk.js.LICENSE.txt */
(this.webpackJsonpbasistechdemo=this.webpackJsonpbasistechdemo||[]).push([[0],{294:function(t,e,i){},412:function(t,e,i){},728:function(t,e,i){"use strict";(function(t){var e=i(3),o=i.n(e);!function(e,s){"object"===typeof exports&&("undefined"!==typeof s&&s.L?t.exports=e(o.a):t.exports=e(i(3))),"undefined"!==typeof s&&s.L&&(s.L.Control.Locate=e(o.a))}((function(t){var e=function(e,i,o){(o=o.split(" ")).forEach((function(o){t.DomUtil[e].call(this,i,o)}))},i=function(t,i){return e("addClass",t,i)},o=function(t,i){return e("removeClass",t,i)},s=t.Marker.extend({initialize:function(e,i){t.Util.setOptions(this,i),this._latlng=e,this.createIcon()},createIcon:function(){var e=this.options,i="";void 0!==e.color&&(i+="stroke:".concat(e.color,";")),void 0!==e.weight&&(i+="stroke-width:".concat(e.weight,";")),void 0!==e.fillColor&&(i+="fill:".concat(e.fillColor,";")),void 0!==e.fillOpacity&&(i+="fill-opacity:".concat(e.fillOpacity,";")),void 0!==e.opacity&&(i+="opacity:".concat(e.opacity,";"));var o=this._getIconSVG(e,i);this._locationIcon=t.divIcon({className:o.className,html:o.svg,iconSize:[o.w,o.h]}),this.setIcon(this._locationIcon)},_getIconSVG:function(t,e){var i=t.radius,o=i+t.weight,s=2*o;return{className:"leaflet-control-locate-location",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(s,'" height="').concat(s,'" version="1.1" viewBox="-').concat(o," -").concat(o," ").concat(s," ").concat(s,'">')+'<circle r="'+i+'" style="'+e+'" /></svg>',w:s,h:s}},setStyle:function(e){t.Util.setOptions(this,e),this.createIcon()}}),n=s.extend({initialize:function(e,i,o){t.Util.setOptions(this,o),this._latlng=e,this._heading=i,this.createIcon()},setHeading:function(t){this._heading=t},_getIconSVG:function(t,e){var i=t.radius,o=t.width+t.weight,s=2*(i+t.depth+t.weight),n="M0,0 l".concat(t.width/2,",").concat(t.depth," l-").concat(o,",0 z"),a="transform: rotate(".concat(this._heading,"deg)");return{className:"leaflet-control-locate-heading",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(o,'" height="').concat(s,'" version="1.1" viewBox="-').concat(o/2," 0 ").concat(o," ").concat(s,'" style="').concat(a,'">')+'<path d="'+n+'" style="'+e+'" /></svg>',w:o,h:s}}}),a=t.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds:function(t){return t.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:s,compassClass:n,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback:function(e,i){var o=t.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);o.title=i.strings.title,o.role="button",o.href="#";var s=t.DomUtil.create(i.iconElementTag,i.icon,o);void 0!==i.strings.text&&(t.DomUtil.create(i.textElementTag,"leaflet-locate-text",o).textContent=i.strings.text,o.classList.add("leaflet-locate-text-active"),o.parentNode.style.display="flex",i.icon.length>0&&s.classList.add("leaflet-locate-icon"));return{link:o,icon:s}},onLocationError:function(t,e){alert(t.message)},onLocationOutsideMapBounds:function(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(e){for(var i in e)"object"===typeof this.options[i]?t.extend(this.options[i],e[i]):this.options[i]=e[i];this.options.followMarkerStyle=t.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=t.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=t.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd:function(e){var i=t.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=i,this._map=e,this._layer=this.options.layer||new t.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;var o=this.options.createButtonCallback(i,this.options);return this._link=o.link,this._icon=o.icon,t.DomEvent.on(this._link,"click",(function(e){t.DomEvent.stopPropagation(e),t.DomEvent.preventDefault(e),e.isTrusted&&this._onClick()}),this).on(this._link,"dblclick",t.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),i},_onClick:function(){this._justClicked=!0;var t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop(),alert("stopped"+this._active+"."+this._event);else if(this._active){var e=this.options.clickBehavior,i=e.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(i=t?e.inView:e.inViewNotFollowing),e[i]&&(i=e[i]),i){case"setView":this.setView();break;case"stop":if(this.stop(),this.options.returnToPrevBounds)(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds)}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing:function(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate:function(){if(!this._active&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){var e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){var i=this,o=function(){t.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",i._onDeviceOrientation,i)};DeviceOrientationEvent&&"function"===typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(t){"granted"===t&&o()})):o()}}},_deactivate:function(){this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?t.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&t.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this))},setView:function(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&!1!==this.options.initialZoomLevel)(e=this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel){(e=this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude])}else{var e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),t.Util.requestAnimFrame((function(){this._ignoreEvent=!1}),this)}},_drawCompass:function(){if(this._event){var t=this._event.latlng;if(this.options.showCompass&&t&&null!==this._compassHeading){var e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)}!this._compass||this.options.showCompass&&null!==this._compassHeading||(this._compass.removeFrom(this._layer),this._compass=null)}},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var e,i,o=this._event.accuracy,s=this._event.latlng;if(this.options.drawCircle){var n=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(s).setRadius(o).setStyle(n):this._circle=t.circle(s,o,n).addTo(this._layer)}if(this.options.metric?(e=o.toFixed(0),i=this.options.strings.metersUnit):(e=(3.2808399*o).toFixed(0),i=this.options.strings.feetUnit),this.options.drawMarker){var a=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(s),this._marker.setStyle&&this._marker.setStyle(a)):this._marker=new this.options.markerClass(s,a).addTo(this._layer)}this._drawCompass();var r=this.options.strings.popup;function c(){return"string"===typeof r?t.Util.template(r,{distance:e,unit:i}):"function"===typeof r?r({distance:e,unit:i}):r}this.options.showPopup&&r&&this._marker&&this._marker.bindPopup(c())._popup.setLatLng(s),this.options.showPopup&&r&&this._compass&&this._compass.bindPopup(c())._popup.setLatLng(s)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_setCompassHeading:function(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,t.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration:function(){this._setCompassHeading()},_onDeviceOrientation:function(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError:function(t){3==t.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound:function(t){if((!this._event||this._event.latlng.lat!==t.latlng.lat||this._event.latlng.lng!==t.latlng.lng||this._event.accuracy!==t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":this._userPanned||this._userZoomed||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom:function(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd:function(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:"untilPanOrZoom"===this.options.setView?!this._userPanned&&!this._userZoomed:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&(this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng))},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(t){"requesting"==t?(o(this._container,"active following"),i(this._container,"requesting"),o(this._icon,this.options.icon),i(this._icon,this.options.iconLoading)):"active"==t?(o(this._container,"requesting following"),i(this._container,"active"),o(this._icon,this.options.iconLoading),i(this._icon,this.options.icon)):"following"==t&&(o(this._container,"requesting"),i(this._container,"active following"),o(this._icon,this.options.iconLoading),i(this._icon,this.options.icon))},_cleanClasses:function(){t.DomUtil.removeClass(this._container,"requesting"),t.DomUtil.removeClass(this._container,"active"),t.DomUtil.removeClass(this._container,"following"),o(this._icon,this.options.iconLoading),i(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});return t.control.locate=function(e){return new t.Control.Locate(e)},a}),window)}).call(this,i(183)(t))},731:function(t,e,i){},733:function(t,e,i){"use strict";i.r(e);var o=i(0),s=i.n(o),n=i(19),a=i.n(n),r=(i(412),i(14)),c=i(30),l=i.n(c),h=i(54),p=(i(294),i(295),i(296),i(297),i(298),i(49)),u=i(138),d=i(26),m=(i(61),i(230)),_=(i(174),i(387),i(385),i(7)),f=i(21),v=i(22),g=i(28),w=i(27),y=i(69),b=i(3),j=i.n(b),O=(i(727),i(728),function(t){Object(g.a)(i,t);var e=Object(w.a)(i);function i(){return Object(f.a)(this,i),e.apply(this,arguments)}return Object(v.a)(i,[{key:"createLeafletElement",value:function(t){var e=t.options,i=t.startDirectly,o=this.context.map,s=Object(_.a)({strings:{title:"Mein Standort",metersUnit:"Meter",feetUnit:"feet",popup:"Ihre reale Position kann bis zu {distance} {unit} von diesem Punkt abweichen.",outsideMapBoundsMsg:"Sie befinden sich au\xdferhalb der Kartengrenzen."},locateOptions:{enableHighAccuracy:!0}},e),n=j.a.control.locate(s).addTo(o);return i&&setTimeout((function(){n.start()}),1e3),n}},{key:"componentDidMount",value:function(){var t=this.context.map;this.leafletElement.addTo(t)}}]),i}(y.a)),x=(i(169),i(17)),k="https://wupp-topicmaps-data.cismet.de",C=function(){var t=Object(h.a)(l.a.mark((function t(e){var i,o,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="GazDataForStories",o={},t.next=4,Object(p.c)(i,k+"/data/3857/adressen.json");case 4:return o.adressen=t.sent,t.next=7,Object(p.c)(i,k+"/data/3857/bezirke.json");case 7:return o.bezirke=t.sent,t.next=10,Object(p.c)(i,k+"/data/3857/quartiere.json");case 10:return o.quartiere=t.sent,t.next=13,Object(p.c)(i,k+"/data/3857/pois.json");case 13:return o.pois=t.sent,t.next=16,Object(p.c)(i,k+"/data/3857/kitas.json");case 16:o.kitas=t.sent,s=Object(u.b)(o,["pois","kitas","bezirke","quartiere","adressen"]),e(s);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var S=function(){var t=Object(o.useState)([]),e=Object(r.a)(t,2),i=e[0],s=e[1];return Object(o.useEffect)((function(){C(s)}),[]),Object(x.jsx)(d.c,{children:Object(x.jsx)(m.a,{locatorControl:!1,gazData:i,children:Object(x.jsx)(O,{})})})},L=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,741)).then((function(e){var i=e.getCLS,o=e.getFID,s=e.getFCP,n=e.getLCP,a=e.getTTFB;i(t),o(t),s(t),n(t),a(t)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=i(287),E=i(18),M=i(172),D=i.n(M);i(730),i(731);function B(){var t,e,i,s=Object(o.useRef)(null),n=Object(o.useRef)(null),a=Object(o.useState)(7.150764),c=Object(r.a)(a,1),l=c[0],h=Object(o.useState)(51.256),p=Object(r.a)(h,1),u=p[0],d=Object(o.useState)(14),m=Object(r.a)(d,1),_=m[0];return Object(o.useEffect)((function(){n.current||(n.current=new D.a.Map({container:s.current,style:"https://omt.map-hosting.de/styles/osm-bright/style.json",center:[l,u],zoom:_}),console.log("map.current",n.current),(t||e||i)&&n.current.getStyle().layers.map((function(o){"symbol"===o.type?(n.current.setPaintProperty(o.id,"icon-opacity",i||t||1),n.current.setPaintProperty(o.id,"text-opacity",e||t||1)):n.current.setPaintProperty(o.id,"".concat(o.type,"-opacity"),t||1)})),n.current.on("load",(function(){console.log('on"load"'),n.current.addSource("wms-test-source",{type:"raster",tiles:["https://maps.wuppertal.de/deegree/wms?service=WMS&request=GetMap&layers=R102%3Atrueortho202010&styles=&format=image%2Fpng&transparent=false&version=1.1.1&tiled=true&type=wms&cssFilter=undefined&width=256&height=256&srs=EPSG%3A3857&bbox={bbox-epsg-3857}"],tileSize:256}),n.current.addLayer({id:"wms-test-layer",type:"raster",opacity:.5,source:"wms-test-source",paint:{}},"waterway-name"),n.current.addLayer({id:"3d-buildings",source:"openmaptiles","source-layer":"building",type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":{type:"identity",property:"render_height"},"fill-extrusion-base":{type:"identity",property:"render_min_height"},"fill-extrusion-opacity":.6}},"waterway-name"),n.current.setPaintProperty("wms-test-layer","raster-opacity",.5)})),n.current.addControl(new D.a.NavigationControl,"top-left"))})),Object(x.jsx)("div",{className:"map-wrap",children:Object(x.jsx)("div",{ref:s,className:"map"})})}var T=i(740),V=T.a.Meta;function F(){return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(x.jsx)("h2",{style:{width:"80%",margin:20},children:"Demo Basistechnologie f\xfcr dig. Fu\xdfg\xe4ngerIS (WIP)"}),Object(x.jsx)("a",{href:"/techdemo/#/topicmapWithNewLocator",children:Object(x.jsx)(T.a,{hoverable:!0,style:{width:240,margin:20},cover:Object(x.jsx)("img",{alt:"example",src:"/techdemo/locator.jpeg"}),children:Object(x.jsx)(V,{title:"Standortvisualisierung",description:"mit Richtungsanzeige"})})}),Object(x.jsx)("a",{href:"/techdemo/#/turnableTopicMap",children:Object(x.jsx)(T.a,{hoverable:!0,style:{width:240,margin:20},cover:Object(x.jsx)("img",{alt:"example",src:"/techdemo/turnableMap.jpeg"}),children:Object(x.jsx)(V,{title:"TopicMap 3.0?",description:"dreh- und kippbare Karte"})})})]})})}i(732);var z="https://wupp-topicmaps-data.cismet.de",Z=function(){var t=Object(h.a)(l.a.mark((function t(e){var i,o,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="GazDataForStories",o={},t.next=4,Object(p.c)(i,z+"/data/3857/adressen.json");case 4:return o.adressen=t.sent,t.next=7,Object(p.c)(i,z+"/data/3857/bezirke.json");case 7:return o.bezirke=t.sent,t.next=10,Object(p.c)(i,z+"/data/3857/quartiere.json");case 10:return o.quartiere=t.sent,t.next=13,Object(p.c)(i,z+"/data/3857/pois.json");case 13:return o.pois=t.sent,t.next=16,Object(p.c)(i,z+"/data/3857/kitas.json");case 16:o.kitas=t.sent,s=Object(u.b)(o,["pois","kitas","bezirke","quartiere","adressen"]),e(s);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var U=function(){var t=Object(o.useState)([]),e=Object(r.a)(t,2),i=e[0],s=e[1];return Object(o.useEffect)((function(){Z(s)}),[]),Object(x.jsx)(d.c,{children:Object(x.jsx)(m.a,{locatorControl:!1,gazData:i,children:Object(x.jsx)(O,{})})})};a.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(P.a,{children:Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(E.c,{children:[Object(x.jsx)(E.a,{path:"/",element:Object(x.jsx)(F,{})}),Object(x.jsx)(E.a,{path:"/turnableTopicMap",element:Object(x.jsx)(B,{})}),Object(x.jsx)(E.a,{path:"/topicmapWithNewLocator",element:Object(x.jsx)(S,{})}),Object(x.jsx)(E.a,{path:"/sensorDemo",element:Object(x.jsx)(U,{})})]})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),L()}},[[733,1,2]]]);
//# sourceMappingURL=main.97ace0e0.chunk.js.map