/*! For license information please see main.28898aee.chunk.js.LICENSE.txt */
(this.webpackJsonpbasistechdemo=this.webpackJsonpbasistechdemo||[]).push([[0],{374:function(e,t,n){},480:function(e,t,n){},515:function(e,t,n){},895:function(e,t,n){"use strict";(function(e){var t=n(3),i=n.n(t);!function(t,o){"object"===typeof exports&&("undefined"!==typeof o&&o.L?e.exports=t(i.a):e.exports=t(n(3))),"undefined"!==typeof o&&o.L&&(o.L.Control.Locate=t(i.a))}((function(e){var t=function(t,n,i){(i=i.split(" ")).forEach((function(i){e.DomUtil[t].call(this,n,i)}))},n=function(e,n){return t("addClass",e,n)},i=function(e,n){return t("removeClass",e,n)},o=e.Marker.extend({initialize:function(t,n){e.Util.setOptions(this,n),this._latlng=t,this.createIcon()},createIcon:function(){var t=this.options,n="";void 0!==t.color&&(n+="stroke:".concat(t.color,";")),void 0!==t.weight&&(n+="stroke-width:".concat(t.weight,";")),void 0!==t.fillColor&&(n+="fill:".concat(t.fillColor,";")),void 0!==t.fillOpacity&&(n+="fill-opacity:".concat(t.fillOpacity,";")),void 0!==t.opacity&&(n+="opacity:".concat(t.opacity,";"));var i=this._getIconSVG(t,n);this._locationIcon=e.divIcon({className:i.className,html:i.svg,iconSize:[i.w,i.h]}),this.setIcon(this._locationIcon)},_getIconSVG:function(e,t){var n=e.radius,i=n+e.weight,o=2*i;return{className:"leaflet-control-locate-location",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(o,'" height="').concat(o,'" version="1.1" viewBox="-').concat(i," -").concat(i," ").concat(o," ").concat(o,'">')+'<circle r="'+n+'" style="'+t+'" /></svg>',w:o,h:o}},setStyle:function(t){e.Util.setOptions(this,t),this.createIcon()}}),s=o.extend({initialize:function(t,n,i){e.Util.setOptions(this,i),this._latlng=t,this._heading=n,this.createIcon()},setHeading:function(e){this._heading=e},_getIconSVG:function(e,t){var n=e.radius,i=e.width+e.weight,o=2*(n+e.depth+e.weight),s="M0,0 l".concat(e.width/2,",").concat(e.depth," l-").concat(i,",0 z"),a="transform: rotate(".concat(this._heading,"deg)");return{className:"leaflet-control-locate-heading",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(i,'" height="').concat(o,'" version="1.1" viewBox="-').concat(i/2," 0 ").concat(i," ").concat(o,'" style="').concat(a,'">')+'<path d="'+s+'" style="'+t+'" /></svg>',w:i,h:o}}}),a=e.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds:function(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:o,compassClass:s,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback:function(t,n){var i=e.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);i.title=n.strings.title,i.role="button",i.href="#";var o=e.DomUtil.create(n.iconElementTag,n.icon,i);void 0!==n.strings.text&&(e.DomUtil.create(n.textElementTag,"leaflet-locate-text",i).textContent=n.strings.text,i.classList.add("leaflet-locate-text-active"),i.parentNode.style.display="flex",n.icon.length>0&&o.classList.add("leaflet-locate-icon"));return{link:i,icon:o}},onLocationError:function(e,t){console.log("xxxy error",e);try{console.log("try again",navigator.geolocation.getCurrentPosition((function(e){console.log("sucess",e)}),(function(e){console.log("error",e)}),{enableHighAccuracy:!0,timeout:1e3}))}catch(n){console.log("e e e",n)}alert("xxx"+e.message)},onLocationOutsideMapBounds:function(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(t){for(var n in t)"object"===typeof this.options[n]?e.extend(this.options[n],t[n]):this.options[n]=t[n];this.options.followMarkerStyle=e.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=e.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=e.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd:function(t){var n=e.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=n,this._map=t,this._layer=this.options.layer||new e.LayerGroup,this._layer.addTo(t),this._event=void 0,this._compassHeading=null,this._prevBounds=null;var i=this.options.createButtonCallback(n,this.options);return this._link=i.link,this._icon=i.icon,e.DomEvent.on(this._link,"click",(function(t){e.DomEvent.stopPropagation(t),e.DomEvent.preventDefault(t),t.isTrusted&&this._onClick()}),this).on(this._link,"dblclick",e.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),n},_onClick:function(){this._justClicked=!0;var e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop(),alert("stopped"+this._active+"."+this._event);else if(this._active){var t=this.options.clickBehavior,n=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=e?t.inView:t.inViewNotFollowing),t[n]&&(n=t[n]),n){case"setView":this.setView();break;case"stop":if(this.stop(),this.options.returnToPrevBounds)(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds)}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing:function(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate:function(){if(!this._active&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){var t="ondeviceorientationabsolute"in window;if(t||"ondeviceorientation"in window){var n=this,i=function(){e.DomEvent.on(window,t?"deviceorientationabsolute":"deviceorientation",n._onDeviceOrientation,n)};DeviceOrientationEvent&&"function"===typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){"granted"===e&&i()})):i()}}},_deactivate:function(){this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?e.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&e.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this))},setView:function(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&!1!==this.options.initialZoomLevel)(t=this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel){(t=this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude])}else{var t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,t.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),e.Util.requestAnimFrame((function(){this._ignoreEvent=!1}),this)}},_drawCompass:function(){if(this._event){var e=this._event.latlng;if(this.options.showCompass&&e&&null!==this._compassHeading){var t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}!this._compass||this.options.showCompass&&null!==this._compassHeading||(this._compass.removeFrom(this._layer),this._compass=null)}},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var t,n,i=this._event.accuracy,o=this._event.latlng;if(this.options.drawCircle){var s=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(o).setRadius(i).setStyle(s):this._circle=e.circle(o,i,s).addTo(this._layer)}if(this.options.metric?(t=i.toFixed(0),n=this.options.strings.metersUnit):(t=(3.2808399*i).toFixed(0),n=this.options.strings.feetUnit),this.options.drawMarker){var a=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(o),this._marker.setStyle&&this._marker.setStyle(a)):this._marker=new this.options.markerClass(o,a).addTo(this._layer)}this._drawCompass();var r=this.options.strings.popup;function l(){return"string"===typeof r?e.Util.template(r,{distance:t,unit:n}):"function"===typeof r?r({distance:t,unit:n}):r}this.options.showPopup&&r&&this._marker&&this._marker.bindPopup(l())._popup.setLatLng(o),this.options.showPopup&&r&&this._compass&&this._compass.bindPopup(l())._popup.setLatLng(o)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_setCompassHeading:function(t){!isNaN(parseFloat(t))&&isFinite(t)?(t=Math.round(t),this._compassHeading=t,e.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration:function(){this._setCompassHeading()},_onDeviceOrientation:function(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError:function(e){3==e.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound:function(e){if((!this._event||this._event.latlng.lat!==e.latlng.lat||this._event.latlng.lng!==e.latlng.lng||this._event.accuracy!==e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":this._userPanned||this._userZoomed||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom:function(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd:function(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:"untilPanOrZoom"===this.options.setView?!this._userPanned&&!this._userZoomed:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&(this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng))},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(e){"requesting"==e?(i(this._container,"active following"),n(this._container,"requesting"),i(this._icon,this.options.icon),n(this._icon,this.options.iconLoading)):"active"==e?(i(this._container,"requesting following"),n(this._container,"active"),i(this._icon,this.options.iconLoading),n(this._icon,this.options.icon)):"following"==e&&(i(this._container,"requesting"),n(this._container,"active following"),i(this._icon,this.options.iconLoading),n(this._icon,this.options.icon))},_cleanClasses:function(){e.DomUtil.removeClass(this._container,"requesting"),e.DomUtil.removeClass(this._container,"active"),e.DomUtil.removeClass(this._container,"following"),i(this._icon,this.options.iconLoading),n(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});return e.control.locate=function(t){return new e.Control.Locate(t)},a}),window)}).call(this,n(207)(e))},898:function(e,t,n){},901:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),s=n(23),a=n.n(s),r=(n(515),n(15)),l=n(6),c=n(17),d=n.n(c),u=n(33),h=(n(374),n(226),n(227),n(228),n(229),n(43)),p=n(127),m=(n(518),n(27)),v=n(56),f=n(191),b=n(147),g=n(258),j=n(257),w=n(25),_=n(26),O=n(32),x=n(31),y=n(82),k=n(3),S=n.n(k),C=(n(894),n(895),function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"createLeafletElement",value:function(e){var t=e.options,n=e.startDirectly,i=this.context.map,o=Object(l.a)({strings:{title:"Mein Standort",metersUnit:"Meter",feetUnit:"feet",popup:"Ihre reale Position kann bis zu {distance} {unit} von diesem Punkt abweichen.",outsideMapBoundsMsg:"Sie befinden sich au\xdferhalb der Kartengrenzen."},locateOptions:{enableHighAccuracy:!0},showCompass:!0,setView:"untilPan",keepCurrentZoomLevel:"true",flyTo:!0},t),s=S.a.control.locate(o).addTo(i);return n&&setTimeout((function(){s.start()}),1e3),s}},{key:"componentDidMount",value:function(){var e=this.context.map;this.leafletElement.addTo(e)}}]),n}(y.a)),z=n(145),L=n(92),M=n(4),F="https://wupp-topicmaps-data.cismet.de",P=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GazDataForStories",i={},e.next=4,Object(h.c)(n,F+"/data/3857/adressen.json");case 4:return i.adressen=e.sent,e.next=7,Object(h.c)(n,F+"/data/3857/bezirke.json");case 7:return i.bezirke=e.sent,e.next=10,Object(h.c)(n,F+"/data/3857/quartiere.json");case 10:return i.quartiere=e.sent,e.next=13,Object(h.c)(n,F+"/data/3857/pois.json");case 13:return i.pois=e.sent,e.next=16,Object(h.c)(n,F+"/data/3857/kitas.json");case 16:i.kitas=e.sent,o=Object(p.b)(i,["pois","kitas","bezirke","quartiere","adressen"]),t(o);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=[{title:"Stadtplan",mode:"default",layerKey:"stadtplan"},{title:"Stadtplan (Vektordaten )",mode:"default",layerKey:"vector2"},{title:"Stadtplan (Vektordaten light)",mode:"default",layerKey:"vector"},{title:"Luftbildkarte",mode:"default",layerKey:"lbk"}],D={lbk:{layerkey:"cismetText|trueOrtho2020@40",layerkey_:"wupp-plan-live@100|trueOrtho2020@75|rvrSchrift@100",src:"/images/rain-hazard-map-bg/ortho.png",title:"Luftbildkarte"},stadtplan:{layerkey:"wupp-plan-live@60",src:"/images/rain-hazard-map-bg/citymap.png",title:"Stadtplan"},vector:{layerkey:"cismetLight",src:"/images/rain-hazard-map-bg/citymap.png",title:"Stadtplan"},vector2:{layerkey:"OMT_OSM_bright",src:"/images/rain-hazard-map-bg/citymap.png",title:"Stadtplan"}},E=Object(l.a)({},L.b);E.namedLayers.cismetLight={type:"vector",style:"https://omt.map-hosting.de/styles/cismet-light/style.json",pane:"backgroundvectorLayers"};var K=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],o=t[1];return Object(i.useEffect)((function(){P(o)}),[]),Object(M.jsx)(m.c,{baseLayerConf:E,backgroundConfigurations:D,backgroundModes:T,children:Object(M.jsx)(f.a,{locatorControl:!0,gazData:n})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,911)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),s(e),a(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(368),I=n(22),V=n(184),N=n.n(V);n(897),n(898);function H(){var e,t,n,o=Object(i.useRef)(null),s=Object(i.useRef)(null),a=Object(i.useState)(7.150764),l=Object(r.a)(a,1),c=l[0],d=Object(i.useState)(51.256),u=Object(r.a)(d,1),h=u[0],p=Object(i.useState)(14),m=Object(r.a)(p,1),v=m[0];return Object(i.useEffect)((function(){s.current||(s.current=new N.a.Map({container:o.current,style:"https://omt.map-hosting.de/styles/osm-bright/style.json",center:[c,h],zoom:v}),console.log("map.current",s.current),(e||t||n)&&s.current.getStyle().layers.map((function(i){"symbol"===i.type?(s.current.setPaintProperty(i.id,"icon-opacity",n||e||1),s.current.setPaintProperty(i.id,"text-opacity",t||e||1)):s.current.setPaintProperty(i.id,"".concat(i.type,"-opacity"),e||1)})),s.current.on("load",(function(){console.log('on"load"'),s.current.addSource("wms-test-source",{type:"raster",tiles:["https://maps.wuppertal.de/deegree/wms?service=WMS&request=GetMap&layers=R102%3Atrueortho202010&styles=&format=image%2Fpng&transparent=false&version=1.1.1&tiled=true&type=wms&cssFilter=undefined&width=256&height=256&srs=EPSG%3A3857&bbox={bbox-epsg-3857}"],tileSize:256}),s.current.addLayer({id:"wms-test-layer",type:"raster",opacity:.5,source:"wms-test-source",paint:{}},"waterway-name"),s.current.addLayer({id:"3d-buildings",source:"openmaptiles","source-layer":"building",type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":{type:"identity",property:"render_height"},"fill-extrusion-base":{type:"identity",property:"render_min_height"},"fill-extrusion-opacity":.6}},"waterway-name"),s.current.setPaintProperty("wms-test-layer","raster-opacity",.5)})),s.current.addControl(new N.a.NavigationControl,"top-left"))})),Object(M.jsx)("div",{className:"map-wrap",children:Object(M.jsx)("div",{ref:o,className:"map"})})}var U=n(909),Z=U.a.Meta;function q(){return Object(M.jsx)("div",{children:Object(M.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(M.jsx)("h2",{style:{width:"80%",margin:20},children:"Demo Basistechnologie f\xfcr dig. Fu\xdfg\xe4ngerIS (WIP)"}),Object(M.jsx)("a",{href:"/techdemo/#/topicmapWithNewLocator",children:Object(M.jsx)(U.a,{hoverable:!0,style:{width:240,margin:20},cover:Object(M.jsx)("img",{alt:"example",src:"/techdemo/locator.jpeg"}),children:Object(M.jsx)(Z,{title:"Standortvisualisierung",description:"mit Richtungsanzeige"})})}),Object(M.jsx)("a",{href:"/techdemo/#/turnableTopicMap",children:Object(M.jsx)(U.a,{hoverable:!0,style:{width:240,margin:20},cover:Object(M.jsx)("img",{alt:"example",src:"/techdemo/turnableMap.jpeg"}),children:Object(M.jsx)(Z,{title:"TopicMap 3.0?",description:"dreh- und kippbare Karte"})})}),Object(M.jsx)("a",{href:"/techdemo/#/qrklima",children:Object(M.jsx)(U.a,{hoverable:!0,style:{width:240,margin:20},cover:Object(M.jsx)("img",{alt:"example",src:"/techdemo/qrklima.jpeg"}),children:Object(M.jsx)(Z,{title:"Klimastandorte",description:"QR Code enabled"})})})]})})}n(899);var W="https://wupp-topicmaps-data.cismet.de",R=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GazDataForStories",i={},e.next=4,Object(h.c)(n,W+"/data/3857/adressen.json");case 4:return i.adressen=e.sent,e.next=7,Object(h.c)(n,W+"/data/3857/bezirke.json");case 7:return i.bezirke=e.sent,e.next=10,Object(h.c)(n,W+"/data/3857/quartiere.json");case 10:return i.quartiere=e.sent,e.next=13,Object(h.c)(n,W+"/data/3857/pois.json");case 13:return i.pois=e.sent,e.next=16,Object(h.c)(n,W+"/data/3857/kitas.json");case 16:i.kitas=e.sent,o=Object(p.b)(i,["pois","kitas","bezirke","quartiere","adressen"]),t(o);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var G=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],o=t[1];return Object(i.useEffect)((function(){R(o)}),[]),Object(M.jsx)(m.c,{children:Object(M.jsx)(f.a,{locatorControl:!1,gazData:n,children:Object(M.jsx)(C,{})})})},Q=n(107),J=n(13),Y=(n(480),n(9)),$=function(e){var t=e.filterState,n=e.filterMode;return function(e){var i;if("themen"===n)return null===t||void 0===t||null===(i=t.themen)||void 0===i?void 0:i.includes(e.thema.id);if("kategorien"===n){var o,s=Object(Y.a)(e.kategorien);try{for(s.s();!(o=s.n()).done;){var a,r=o.value;if(null===t||void 0===t||null===(a=t.kategorien)||void 0===a?void 0:a.includes(r))return!0}}catch(l){s.e(l)}finally{s.f()}return!1}return!0}},X=n(186),ee=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,i,o,s,a,r,l,c,u,h,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.b)(t,(function(e){return e.thema.icon}));case 2:return c=e.sent,u=(null===c||void 0===c||null===(n=c.standort)||void 0===n?void 0:n.name)||"Kein Standort","Feature",!1,h=null===c||void 0===c||null===(i=c.standort)||void 0===i?void 0:i.geojson,null===c||void 0===c||null===(o=c.thema)||void 0===o?void 0:o.farbe,c.color=null===c||void 0===c?void 0:c.thema.farbe,p={header:c.thema.name,title:u,additionalInfo:null===c||void 0===c?void 0:c.beschreibung,subtitle:Object(M.jsxs)("span",{children:[null===c||void 0===c||null===(s=c.standort)||void 0===s?void 0:s.strasse," ",null===c||void 0===c||null===(a=c.standort)||void 0===a?void 0:a.hausnummer,Object(M.jsx)("br",{}),null===c||void 0===c||null===(r=c.standort)||void 0===r?void 0:r.plz," ",null===c||void 0===c||null===(l=c.standort)||void 0===l?void 0:l.stadt]})},c.info=p,c.url=null===c||void 0===c?void 0:c.website,c.bild&&(c.foto="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+c.bild),e.abrupt("return",{text:u,type:"Feature",selected:false,geometry:h,crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::25832"}},properties:c});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(e){var t,n,i,o=e.featureCollectionContext,s=function(e){var t,n,i=null===o||void 0===o||null===(t=o.items)||void 0===t?void 0:t.find((function(t){var n;return(null===t||void 0===t||null===(n=t.thema)||void 0===n?void 0:n.id)===e}));return null===i||void 0===i||null===(n=i.thema)||void 0===n?void 0:n.name},a="?";if((null===o||void 0===o||null===(t=o.filteredItems)||void 0===t?void 0:t.length)===(null===o||void 0===o||null===(n=o.items)||void 0===n?void 0:n.length))a=void 0;else if("themen"===(null===o||void 0===o?void 0:o.filterMode)){var r,l;if((null===o||void 0===o||null===(r=o.filterState)||void 0===r||null===(l=r.themen)||void 0===l?void 0:l.length)<=2){var c,d,u=null===o||void 0===o||null===(c=o.filterState)||void 0===c?void 0:c.themen,h=[],p=Object(Y.a)(u);try{for(p.s();!(d=p.n()).done;){var m=d.value;h.push(s(m))}}catch(x){p.e(x)}finally{p.f()}a="nach Themen gefiltert (nur "+h.join(", ")+")"}else{var v,f;a="nach Themen gefiltert ("+(null===o||void 0===o||null===(v=o.filterState)||void 0===v||null===(f=v.themen)||void 0===f?void 0:f.length)+" Themen)"}}else if("kategorien"===(null===o||void 0===o?void 0:o.filterMode)){var b,g,j,w,_,O;if((null===o||void 0===o||null===(b=o.filterState)||void 0===b||null===(g=b.kategorien)||void 0===g?void 0:g.length)<=3)a="nach Kategorien gefiltert (nur "+(null===o||void 0===o||null===(j=o.filterState)||void 0===j||null===(w=j.kategorien)||void 0===w?void 0:w.join(", "))+")";else a="nach Kategorien gefiltert ("+(null===o||void 0===o||null===(_=o.filterState)||void 0===_||null===(O=_.kategorien)||void 0===O?void 0:O.length)+" Kategorien)"}return 0===(null===o||void 0===o||null===(i=o.filteredItems)||void 0===i?void 0:i.length)?Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Keine Klimaorte gefunden!"})," Bitte \xfcberpr\xfcfen Sie Ihre Filtereinstellungen."]}):a?Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Meine Klimaorte:"})," ",a]}):void 0},ne=n(303),ie=n(28),oe=n(29),se=n(119),ae=n(285),re=n(151),le=n(508),ce=n(299),de=n(297),ue=n(190),he=function(){var e=Object(i.useContext)(oe.b).setAppMenuActiveMenuSection;return Object(M.jsxs)("div",{style:{fontSize:"11px"},children:[Object(M.jsx)("b",{children:"Hintergrundkarten"}),": Stadtkarte 2.0 \xa9 RVR | True Orthophoto 2020 \xa9 Stadt Wuppertal"," ",Object(M.jsx)("a",{className:"pleaseRenderAsLink",onClick:function(){e("help"),se.scroller.scrollTo("Datengrundlage",{containerId:"myMenu"})},children:"(Details und Nutzungsbedingungen)"}),Object(M.jsx)("br",{}),Object(M.jsxs)("div",{children:[Object(M.jsxs)("b",{children:[document.title," v","dev-hot-reload"]}),":"," ",Object(M.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(M.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(M.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",ue.a]})," ","|"," ",Object(M.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})]})},pe=n(91),me=function(e){var t,n=[],i=[],o=[],s=[],a=Object(Y.a)(e||[]);try{for(a.s();!(t=a.n()).done;){var r,l=t.value,c=Object(Y.a)(l.kategorien);try{for(c.s();!(r=c.n()).done;){var d=r.value;n.includes(d)||(i.push({key:d}),n.push(d))}}catch(b){c.e(b)}finally{c.f()}o.includes(l.thema.id)||(o.push(l.thema.id),s.push({key:l.thema.id,title:l.thema.name,color:l.thema.farbe}))}}catch(b){a.e(b)}finally{a.f()}s.sort((function(e,t){return e.title.localeCompare(t.title)})),i.sort((function(e,t){return e.key.localeCompare(t.key)})),o=[];for(var u=0,h=s;u<h.length;u++){var p=h[u];o.push(p.key)}n=[];for(var m=0,v=i;m<v.length;m++){var f=v[m];n.push(f.key)}return{kategorien:n,katValues:i,themen:o,themenValues:s}},ve=function(){var e=Object(i.useContext)(oe.b).setAppMenuActiveMenuSection,t=Object(i.useContext)(ie.a),n=t.filterState,o=t.filterMode,s=t.filteredItems,a=t.shownFeatures,r=Object(i.useContext)(ie.b),c=r.setFilterState,d=r.setFilterMode,u=Object(i.useContext)(ie.a).items,h=me(u),p=h.kategorien,m=h.katValues,f=h.themen,b={mode:"tabs",filters:[{title:"Themen",key:"themen",icon:"folder",type:"tags",values:h.themenValues,setAll:function(){c(Object(l.a)(Object(l.a)({},n),{},{themen:f}))},setNone:function(){c(Object(l.a)(Object(l.a)({},n),{},{themen:[]}))},colorizer:function(e,t){return t?e.color:"#eeeeee"}},{title:"Kategorien",key:"kategorien",icon:"tags",type:"tags",values:m,setAll:function(){c(Object(l.a)(Object(l.a)({},n),{},{kategorien:p}))},setNone:function(){c(Object(l.a)(Object(l.a)({},n),{},{kategorien:[]}))}}]};void 0===n&void 0!==u&&c({kategorien:p,themen:f}),void 0===o&void 0!==u&&d("themen");var g=Object(v.d)("Hintergrund",{content:'Die M\xf6glichkeiten zum Klima- und Umweltschutz werden aktuell global diskutiert, wobei bereits \n              auf kommunaler Ebene viele Akteure und Einrichtungen an deren Umsetzung beteiligt sind. \n              An diesen "Klimaorten" wird das Thema Klimaschutz praktiziert und vermittelt; hier wird der \n              Klimaschutz f\xfcr die B\xfcrger\\*innen erlebbar. Viele dieser Klimaorte sind im Rahmen von innovativen \n              Projekten durch den Wissenstransfer und das Engagement von Unternehmen, Vereinen, Verb\xe4nden sowie \n              Quartiersbewohner\\*innen entstanden, die sich aktiv f\xfcr L\xf6sungen zum Klima- und Umweltschutz in ihrem \n              Quartier und f\xfcr die Stadt Wuppertal einsetzen. Zu den zielf\xfchrenden Projekten geh\xf6ren z.B. Wuppertals \n              Klimasiedlungen, Anlagen zur effizienten und/oder regenerativen Energieerzeugung, Projekte der Verkehrswende \n              sowie der Klima- und Umweltbildung, an denen zahlreiche Akteure mitwirken und mitgestalten.'});return g[0].configs.splice(6,0,{title:"Filtern",bsStyle:"warning",contentBlockConf:{type:"REACTCOMP",content:Object(M.jsxs)("div",{children:[Object(M.jsxs)("p",{children:['Im Bereich "',Object(M.jsx)("strong",{children:"Meine Klimaorte"}),'" k\xf6nnen Sie im Anwendungsmen\xfc'," ",Object(M.jsx)(J.a,{name:"bars"})," die in der Karte angezeigten Klimaorte so ausd\xfcnnen, dass nur die f\xfcr Sie interessanten Orte \xfcbrig bleiben. Dabei umfasst die Filterung die Angebote an den Klimastandorten, wobei sich ein Angebot aus einem Thema und einer Kategorie ergibt. Standardm\xe4\xdfig sind die Einstellungen hier so gesetzt, dass alle verf\xfcgbaren Klimaorte angezeigt werden."]}),Object(M.jsxs)("p",{children:['Ihnen stehen somit zwei Filterkriterien zur Verf\xfcgung: "Themen" und "Kategorien". Innerhalb dieser Kriterien k\xf6nnen sie in einer alphabetisch sortieren Menge an Schlagworten (Tags) bestimmte Begriffe per Mausklick selektieren bzw. deselektieren; die Auswahl aller bzw. keines der Schlagworte erfolgt \xfcber die Schaltfl\xe4che'," ",Object(M.jsx)("a",{className:"renderAsLink",children:"alle"})," bzw. ",Object(M.jsx)("a",{className:"renderAsLink",children:"keine"}),"."]}),Object(M.jsxs)("p",{children:['Ihre Einstellungen werden direkt in der blauen Titelzeile des Bereichs "',Object(M.jsx)("strong",{children:"Meine Klimaorte"}),'" und in dem Donut-Diagramm, das Sie rechts neben oder unter den Filteroptionen finden, ausgewertet. Die Titelzeile zeigt die Gesamtanzahl der Klimaorte, die den von Ihnen gesetzten Filterbedingungen entsprechen. Das Donut-Diagramm zeigt zus\xe4tzlich die Verteilung der Klimaorte entsprechend der Filterkriterien "Themen" oder "Kategorien". Bewegen Sie dazu den Mauszeiger auf eines der farbigen Segmente des Diagramms. Die Farben des Donut-Diagramms entsprechen den farbigen Hintergr\xfcnden der Schlagworte aus dem Filterkriterium "Themen".']})]})}}),Object(M.jsx)(pe.b,{customizations:{inKartePositionieren:{listWithSymbols:Object(M.jsxs)("p",{children:["Durch das in der Auswahlliste vorangestellte Symbol erkennen Sie, ob es sich bei einem Treffer um einen"," ",Object(M.jsxs)(fe,{children:[Object(M.jsx)(J.a,{name:"circle"})," Stadtbezirk"]}),", ein"," ",Object(M.jsxs)(fe,{children:[Object(M.jsx)(J.a,{name:"pie-chart"})," Quartier"]}),", eine"," ",Object(M.jsxs)(fe,{children:[Object(M.jsx)(J.a,{name:"home"})," Adresse"]}),", eine"," ",Object(M.jsxs)(fe,{children:[Object(M.jsx)(J.a,{name:"road"})," Stra\xdfe ohne Hausnummern"]}),", eine"," ",Object(M.jsxs)(fe,{children:[Object(M.jsx)(J.a,{name:"child"})," Kindertageseinrichtung"]}),", eine"," ",Object(M.jsxs)(fe,{children:[Object(M.jsx)(J.a,{name:"graduation-cap"})," Schule"]})," ","oder einen"," ",Object(M.jsxs)(fe,{children:[Object(M.jsx)(J.a,{name:"sun"})," Klimaort"]})," ","handelt."]})},fachobjekteAuswaehlen:{furtherExplanationOfClickableContent:" (Signaturen oder dunkelblaue Fahrradtrassen)"},hintergrund:{additionalDatasources:Object(M.jsxs)("div",{children:[Object(M.jsx)("ul",{children:Object(M.jsxs)("li",{children:[Object(M.jsx)("strong",{children:"Fernw\xe4rme"}),": Kartendienst (WMS) der Stadt Wuppertal in Zusammenarbeit mit der"," ",Object(M.jsx)("a",{target:"_wsw",href:"https://www.wsw-online.de/wsw-energie-wasser/privatkunden/produkte/fernwaerme/talwaerme-wuppertal/",children:"WSW GmbH"}),". Datengrundlage: Fernw\xe4rmeleitungen der Wuppertaler Stadtwerke GmbH (Stand 02.2021) mit einer Puffergr\xf6\xdfe von 10 m. \xa9"," ",Object(M.jsx)("a",{target:"_wsw",href:"https://www.wsw-online.de/impressum/",children:"Wuppertaler Stadtwerke GmbH"}),"."]})}),Object(M.jsxs)("div",{children:["Zus\xe4tzlich stellt die Klimaortkarte Wuppertal die Daten der"," ",Object(M.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/klimaorte-wuppertal",children:"Klimaorte"})," ","und eine Auswahl der"," ",Object(M.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/radrouten-wuppertal",children:"Radrouten"})," ","(mit 1,5 Meter Puffer) aus dem Open-Data-Angebot der Stadt Wuppertal dar."]})]})}},children:Object(M.jsx)(ae.a,{menuIcon:"bars",menuTitle:"Meine Klimaorte, Einstellungen und Kompaktanleitung",menuFooter:Object(M.jsx)(he,{}),menuIntroduction:Object(M.jsxs)("span",{children:["Benutzen Sie die Auswahlm\xf6glichkeiten unter"," ",Object(M.jsx)(se.Link,{className:"useAClassNameToRenderProperLink",to:"filter",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return e("filter")},children:"Meine Klimaorte"}),", um die in der Karte angezeigten vorbildlichen Klimaorte auf die f\xfcr Sie relevanten Themen zu beschr\xe4nken. \xdcber"," ",Object(M.jsx)(se.Link,{className:"useAClassNameToRenderProperLink",to:"settings",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return e("settings")},children:"Einstellungen"})," ","k\xf6nnen Sie die Darstellung der Hintergrundkarte und der klimarelevanten Themen an Ihre Interesse anpassen. W\xe4hlen Sie die"," ",Object(M.jsx)(se.Link,{className:"useAClassNameToRenderProperLink",to:"help",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return e("help")},children:"Kompaktanleitung"})," ","f\xfcr detailliertere Bedienungsinformationen."]}),menuSections:[Object(M.jsx)(re.a,{sectionKey:"filter",sectionTitle:function(){var e,t=(null===s||void 0===s?void 0:s.length)||0;return e=1===t?"Standort":"Standorte","Meine Klimaorte (".concat(t," ").concat(e," gefunden, davon ").concat((null===a||void 0===a?void 0:a.length)||"0"," in der Karte)")}(),sectionBsStyle:"primary",sectionContent:Object(M.jsx)(le.a,{filterConfiguration:b})},"filter"),Object(M.jsx)(ce.a,{},"settings"),Object(M.jsx)(re.a,{sectionKey:"help",sectionTitle:"Kompaktanleitung",sectionBsStyle:"default",sectionContent:Object(M.jsx)(de.a,{configs:g})},"help")]})})},fe=function(e){return Object(M.jsx)("span",{style:{whiteSpace:"nowrap"},children:e.children})},be=n(371),ge=n(509),je=function(){var e=Object(i.useContext)(ie.a),t=e.selectedFeature,n=e.items,o=null===t||void 0===t?void 0:t.properties,s=Object(M.jsx)("div",{style:{fontSize:"11px"},children:Object(M.jsxs)("div",{children:[Object(M.jsxs)("b",{children:[document.title," v","dev-hot-reload"]}),":"," ",Object(M.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(M.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(M.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",ue.a]})," ","|"," ",Object(M.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})});if(void 0!==o){var a,r,l,c,d,u,h,p,m,v,f,b,g,j;void 0!==o.bild&&(j="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+o.bild);var w,_=n.filter((function(e){return(null===e||void 0===e?void 0:e.standort.id)===o.standort.id&&e.id!==o.id})),O={},x=Object(Y.a)(_);try{for(x.s();!(w=x.n()).done;){var y=w.value;void 0===O[y.thema.name]&&(O[y.thema.name]=[]),O[y.thema.name].push(y.kategorien)}}catch(z){x.e(z)}finally{x.f()}var k=[Object(M.jsx)(be.a,{bsStyle:"info",header:"Standort: "+(null===o||void 0===o||null===(a=o.standort)||void 0===a?void 0:a.name),children:Object(M.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[(null===o||void 0===o?void 0:o.standort)&&Object(M.jsxs)("b",{children:[null===o||void 0===o||null===(r=o.standort)||void 0===r?void 0:r.strasse," ",null===o||void 0===o||null===(l=o.standort)||void 0===l?void 0:l.hausnummer,Object(M.jsx)("br",{}),null===o||void 0===o||null===(c=o.standort)||void 0===c?void 0:c.plz," ",null===o||void 0===o||null===(d=o.standort)||void 0===d?void 0:d.stadt,Object(M.jsx)("br",{})]}),(null===o||void 0===o||null===(u=o.standort)||void 0===u?void 0:u.beschreibung)&&Object(M.jsxs)("div",{children:[null===o||void 0===o||null===(h=o.standort)||void 0===h?void 0:h.beschreibung,Object(M.jsx)("br",{})]}),(null===o||void 0===o||null===(p=o.standort)||void 0===p?void 0:p.bemerkung)&&Object(M.jsxs)("div",{children:[null===o||void 0===o||null===(m=o.standort)||void 0===m?void 0:m.bemerkung," ",Object(M.jsx)("br",{})]}),(null===o||void 0===o||null===(v=o.standort)||void 0===v?void 0:v.kommentar)&&Object(M.jsxs)("div",{children:[Object(M.jsx)("br",{})," ",Object(M.jsxs)("i",{children:[null===o||void 0===o||null===(f=o.standort)||void 0===f?void 0:f.kommentar," "]})]}),(null===o||void 0===o||null===(b=o.standort)||void 0===b?void 0:b.erreichbarkeit)&&Object(M.jsxs)("div",{children:[Object(M.jsx)("br",{})," Erreichbarkeit \xfcber ",null===o||void 0===o||null===(g=o.standort)||void 0===g?void 0:g.erreichbarkeit]})]})},"standort")],S=!0;_.length>0&&k.push(Object(M.jsx)(be.a,{header:"Weitere Angebote an diesem Standort:",bsStyle:"success",children:Object(M.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(M.jsx)("table",{border:0,style:{xwidth:"100%"},children:Object(M.jsx)("tbody",{children:Object.keys(O).map((function(e,t){var n=null;return!0!==S&&(n=Object(M.jsxs)("tr",{colspan:2,children:[Object(M.jsx)("td",{style:{paddingLeft:5,paddingright:5,borderBottom:"1px solid #dddddd"}}),Object(M.jsx)("td",{style:{paddingLeft:5,paddingright:5,borderBottom:"1px solid #dddddd"}})]})),S=!1,Object(M.jsxs)(M.Fragment,{children:[n,Object(M.jsxs)("tr",{style:{paddingBottom:10},children:[Object(M.jsxs)("td",{style:{verticalAlign:"top",padding:5},children:[e,":"]},"addAng.L."+t),Object(M.jsx)("td",{style:{verticalAlign:"top",padding:5},children:O[e].map((function(e,t){return Object(M.jsx)("div",{children:e.join(", ")},"kategorien."+t)}))},"addAng.R."+t)]},"addAng"+t)]})}))})})})},"weitereAngebote"));var C=void 0;return void 0!==j&&(C=250),Object(M.jsx)(ge.a,{titleIconName:"info-circle",title:"Datenblatt: "+o.kategorien.join(", "),mainSection:Object(M.jsxs)("div",{style:{width:"100%",minHeight:C},children:[void 0!==j&&Object(M.jsx)("img",{alt:"Bild",style:{paddingLeft:10,paddingRight:10,float:"right",paddingBottom:"5px"},src:j,width:"250"}),Object(M.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[o.beschreibung&&Object(M.jsxs)("b",{children:[o.beschreibung,Object(M.jsx)("br",{})]}),o.bemerkung&&Object(M.jsxs)("div",{children:[o.bemerkung," ",Object(M.jsx)("br",{})]}),o.kommentar&&Object(M.jsxs)("div",{children:[Object(M.jsx)("br",{}),Object(M.jsxs)("i",{children:[o.kommentar," "]})]})]})]}),subSections:k,footer:s})}return null},we=n(105),_e=n(115),Oe=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GazDataForStories",i={},e.next=4,Object(h.c)(n,ye+"/data/adressen.json");case 4:return i.adressen=e.sent,e.next=7,Object(h.c)(n,ye+"/data/bezirke.json");case 7:return i.bezirke=e.sent,e.next=10,Object(h.c)(n,ye+"/data/quartiere.json");case 10:return i.quartiere=e.sent,e.next=13,Object(h.c)(n,ye+"/data/bpklimastandorte.json");case 13:i.bpklimastandorte=e.sent,o=Object(p.b)(i,["bpklimastandorte","bezirke","quartiere","adressen"]),t(o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var xe=function(){var e=Object(i.useContext)(ie.b),t=e.setSelectedFeatureByPredicate,n=e.setFilterState,o=Object(i.useContext)(_e.b),s=Object(i.useContext)(ie.a),a=s.selectedFeature,c=s.items,d=s.shownFeatures,u=s.filterState,h=Object(i.useContext)(m.b).zoomToFeature,p=Object(i.useContext)(m.a).history,v=Object(i.useState)([]),j=Object(r.a)(v,2),w=j[0],_=j[1];Object(i.useEffect)((function(){Oe(_)}),[]),Object(i.useEffect)((function(){var e=function(e){if(void 0!==d&&void 0!==c){var i=new URLSearchParams(e).get("show");if(!0===(null!=i))if(void 0!==d.find((function(e){return e.properties.standort.id===parseInt(i)})))t((function(e){try{return parseInt(e.properties.standort.id)===parseInt(i)}catch(t){return!1}})),p.push(Object(we.b)(e,"show"));else if(void 0!==c.find((function(e){return e.standort.id===parseInt(i)}))){var o=me(c).themen;n(Object(l.a)(Object(l.a)({},u),{},{themen:o}))}else console.log("Objekt mit Standort.ID="+i+" nicht gefunden"),p.push(Object(we.b)(e,"show"))}};return e(p.location.search),p.listen((function(){e(p.location.search)}))}),[p,d,c]);var O,x,y=null===a||void 0===a?void 0:a.properties,k=!1;y&&(k=c.filter((function(e){return(null===e||void 0===e?void 0:e.standort.id)===y.standort.id&&e.id!==y.id})).length>0||void 0!==(null===a||void 0===a||null===(O=a.properties)||void 0===O?void 0:O.bemerkung)||void 0!==(null===a||void 0===a||null===(x=a.properties)||void 0===x?void 0:x.kommentar));var S,C,z=null!=new URLSearchParams(p.location.search).get("linkProduction"),L=[Object(M.jsx)(ne.a,{lightBoxDispatchContext:o,currentFeature:a})];return z&&L.push(Object(M.jsx)("a",{href:window.location.href+"&show="+(null===a||void 0===a||null===(S=a.properties)||void 0===S||null===(C=S.standort)||void 0===C?void 0:C.id),target:"_blank",rel:"noreferrer",children:"\u03c0"})),Object(M.jsx)(f.a,{applicationMenuTooltipString:"Filter | Einstellungen | Anleitung",locatorControl:!0,modalMenu:Object(M.jsx)(ve,{}),gazData:w,gazetteerSearchPlaceholder:"Klimaort | Stadtteil | Adresse",infoBox:Object(M.jsx)(g.a,{pixelwidth:400,config:{displaySecondaryInfoAction:k,city:"Wuppertal",navigator:{noun:{singular:"Klimaort",plural:"Klimaorte"}},noCurrentFeatureTitle:"Keine Klimaorte gefunden",noCurrentFeatureContent:""},secondaryInfoBoxElements:L}),secondaryInfo:Object(M.jsx)(je,{}),gazetteerHitTrigger:function(e){var n,i;Array.isArray(e)&&(null===(n=e[0])||void 0===n||null===(i=n.more)||void 0===i?void 0:i.id)&&t((function(t){try{var n=parseInt(t.properties.standort.id)===e[0].more.id;return!0===n&&h(t),n}catch(i){return!1}}))},children:Object(M.jsx)(b.a,{})})},ye="https://wupp-topicmaps-data.cismet.de";var ke=function(){return Object(M.jsx)(m.c,{appKey:"BestPracticeKlimaschutzWuppertal.TopicMap",featureTooltipFunction:function(e){return null===e||void 0===e?void 0:e.text},featureItemsURL:ye+"/data/bpklima.data.json",referenceSystemDefinition:Q.b.proj4crs25832def,mapEPSGCode:"25832",referenceSystem:Q.b.crs25832,getFeatureStyler:j.a,convertItemToFeature:ee,clusteringOptions:{iconCreateFunction:Object(v.c)(30,(function(e){return e.color}))},clusteringEnabled:!0,itemFilterFunction:$,titleFactory:te,classKeyFunction:function(e){var t;return null===(t=e.thema)||void 0===t?void 0:t.name},getColorFromProperties:function(e){var t;return null===e||void 0===e||null===(t=e.thema)||void 0===t?void 0:t.farbe},additionalLayerConfiguration:{fernwaerme:{title:Object(M.jsxs)("span",{children:["Fernw\xe4rme"," ",Object(M.jsx)(J.a,{style:{color:"#EEB48C",width:"30px",textAlign:"center"},name:"circle"})]}),initialActive:!0,layer:Object(M.jsx)(z.a,{url:"https://maps.wuppertal.de/deegree/wms",layers:"fernwaermewsw ",format:"image/png",tiled:"true",transparent:"true",maxZoom:19,opacity:.7},"fernwaermewsw")}},children:Object(M.jsx)(xe,{})})};a.a.render(Object(M.jsx)(o.a.StrictMode,{children:Object(M.jsx)(A.a,{children:Object(M.jsx)("div",{className:"App",children:Object(M.jsxs)(I.c,{children:[Object(M.jsx)(I.a,{path:"/",element:Object(M.jsx)(q,{})}),Object(M.jsx)(I.a,{path:"/turnableTopicMap",element:Object(M.jsx)(H,{})}),Object(M.jsx)(I.a,{path:"/topicmapWithNewLocator",element:Object(M.jsx)(K,{})}),Object(M.jsx)(I.a,{path:"/sensorDemo",element:Object(M.jsx)(G,{})}),Object(M.jsx)(I.a,{path:"/qrklima",element:Object(M.jsx)(ke,{})})]})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),B()}},[[901,1,2]]]);
//# sourceMappingURL=main.28898aee.chunk.js.map